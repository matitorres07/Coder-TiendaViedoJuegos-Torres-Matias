{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Mati/Desktop/REACT/tiendavideojuegos-torres/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Mati\\\\Desktop\\\\REACT\\\\tiendavideojuegos-torres\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{addDoc,collection,getFirestore}from\"firebase/firestore\";import{useEffect}from\"react\";import{Link}from\"react-router-dom\";import{useCartContext}from\"../components/context/CartContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Orden=function Orden(){var _useCartContext=useCartContext(),cart=_useCartContext.cart;useEffect(function(){console.log('este es el carrtioa ctuasl',cart);},[]);var today=new Date();var dd=String(today.getDate()).padStart(2,'0');var mm=String(today.getMonth()+1).padStart(2,'0');//January is 0!\nvar yyyy=today.getFullYear();today=dd+'/'+mm+'/'+yyyy;console.log(today);var saveOrder=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var usr,orderToSave,db,orderCollection,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:usr={name:\"juan\",phone:\"3561231312\",emial:\"asedadsa@adsadasd.com\"};console.log();orderToSave={user:usr,order:cart,date:today,total:cart.length};console.log(\"esta es la orden\",orderToSave);db=getFirestore();orderCollection=collection(db,'orders');_context.next=8;return addDoc(orderCollection,orderToSave);case 8:response=_context.sent;console.log(\"respuesta\",response);console.log(\"respuesta id\",response.id);case 11:case\"end\":return _context.stop();}}},_callee);}));return function saveOrder(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:'/juegos',children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-xs sm:btn-sm md:btn-md lg:btn-lg\",children:\"Empezar a comprar!\"})}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-xs sm:btn-sm md:btn-md lg:btn-lg\",onClick:saveOrder,children:\"salvar favoritos\"})]});};export default Orden;","map":{"version":3,"sources":["C:/Users/Mati/Desktop/REACT/tiendavideojuegos-torres/src/componentespractica/Orden.js"],"names":["addDoc","collection","getFirestore","useEffect","Link","useCartContext","Orden","cart","console","log","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","saveOrder","usr","name","phone","emial","orderToSave","user","order","date","total","length","db","orderCollection","response","id"],"mappings":"iSAAA,OAASA,MAAT,CAAiBC,UAAjB,CAA6BC,YAA7B,KAAiD,oBAAjD,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,cAAT,KAA+B,mCAA/B,C,wFAIA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAEhB,oBAAeD,cAAc,EAA7B,CAAOE,IAAP,iBAAOA,IAAP,CAEAJ,SAAS,CAAC,UAAM,CACfK,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAAyCF,IAAzC,EACA,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAIG,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,EAAZ,CACA,GAAIC,CAAAA,EAAE,CAAGC,MAAM,CAACH,KAAK,CAACI,OAAN,EAAD,CAAN,CAAwBC,QAAxB,CAAiC,CAAjC,CAAoC,GAApC,CAAT,CACA,GAAIC,CAAAA,EAAE,CAAGH,MAAM,CAACH,KAAK,CAACO,QAAN,GAAmB,CAApB,CAAN,CAA6BF,QAA7B,CAAsC,CAAtC,CAAyC,GAAzC,CAAT,CAAwD;AACxD,GAAIG,CAAAA,IAAI,CAAGR,KAAK,CAACS,WAAN,EAAX,CACAT,KAAK,CAAGE,EAAE,CAAG,GAAL,CAAWI,EAAX,CAAgB,GAAhB,CAAsBE,IAA9B,CACAV,OAAO,CAACC,GAAR,CAAYC,KAAZ,EAEA,GAAMU,CAAAA,SAAS,0FAAG,mLACVC,GADU,CACJ,CACVC,IAAI,CAAG,MADG,CAEVC,KAAK,CAAG,YAFE,CAGVC,KAAK,CAAG,uBAHE,CADI,CAMhBhB,OAAO,CAACC,GAAR,GAEMgB,WARU,CAQI,CAClBC,IAAI,CAAEL,GADY,CAGlBM,KAAK,CAAEpB,IAHW,CAKlBqB,IAAI,CAAGlB,KALW,CAOlBmB,KAAK,CAAEtB,IAAI,CAACuB,MAPM,CARJ,CAkBhBtB,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAA+BgB,WAA/B,EAEMM,EApBU,CAoBL7B,YAAY,EApBP,CAqBV8B,eArBU,CAqBQ/B,UAAU,CAAC8B,EAAD,CAAI,QAAJ,CArBlB,uBAuBO/B,CAAAA,MAAM,CAAEgC,eAAF,CAAkBP,WAAlB,CAvBb,QAuBVQ,QAvBU,eAwBhBzB,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAwBwB,QAAxB,EACAzB,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA2BwB,QAAQ,CAACC,EAApC,EAzBgB,uDAAH,kBAATd,CAAAA,SAAS,0CAAf,CA8BF,mBACE,oCACE,KAAC,IAAD,EAAM,EAAE,CAAE,SAAV,uBAAqB,eAAQ,KAAK,CAAC,0CAAd,gCAArB,EADF,cAEE,eAAQ,KAAK,CAAC,0CAAd,CAAyD,OAAO,CAAEA,SAAlE,8BAFF,GADF,CAQD,CArDD,CAsDA,cAAed,CAAAA,KAAf","sourcesContent":["import { addDoc, collection, getFirestore } from \"firebase/firestore\"\r\nimport { useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useCartContext } from \"../components/context/CartContext\"\r\n\r\n\r\n\r\nconst Orden = () => {\r\n\r\n    const {cart} = useCartContext()\r\n\r\n    useEffect(() => {\r\n     console.log('este es el carrtioa ctuasl',cart);\r\n    }, [])\r\n\r\n    var today = new Date();\r\n    var dd = String(today.getDate()).padStart(2, '0');\r\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n    today = dd + '/' + mm + '/' + yyyy;\r\n    console.log(today);\r\n\r\n    const saveOrder = async () => { \r\n      const usr = {\r\n        name : \"juan\",\r\n        phone : \"3561231312\",\r\n        emial : \"asedadsa@adsadasd.com\",\r\n      }\r\n      console.log();\r\n\r\n      const orderToSave = {\r\n        user: usr,\r\n\r\n        order: cart,\r\n\r\n        date : today,\r\n\r\n        total: cart.length\r\n\r\n      }\r\n      console.log(\"esta es la orden\",orderToSave);\r\n\r\n      const db = getFirestore()\r\n      const orderCollection = collection(db,'orders')\r\n\r\n      const response = await addDoc (orderCollection,orderToSave)\r\n      console.log(\"respuesta\",response);\r\n      console.log(\"respuesta id\",response.id);\r\n     }\r\n\r\n     \r\n    \r\n  return (\r\n    <div>\r\n      <Link to={'/juegos'}><button class=\"btn btn-xs sm:btn-sm md:btn-md lg:btn-lg\">Empezar a comprar!</button></Link>\r\n      <button class=\"btn btn-xs sm:btn-sm md:btn-md lg:btn-lg\" onClick={saveOrder}>salvar favoritos</button>\r\n    </div>\r\n    \r\n    \r\n  )\r\n}\r\nexport default Orden"]},"metadata":{},"sourceType":"module"}