{"ast":null,"code":"import _objectSpread from\"C:/Users/Mati/Desktop/REACT/tiendavideojuegos-torres/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Mati/Desktop/REACT/tiendavideojuegos-torres/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useEffect,useState}from\"react\";import{getItem}from\"../../data/data\";import{collection,doc,getDoc,getDocs,getFirestore}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";var AppContext=/*#__PURE__*/createContext();export var useAppContext=function useAppContext(){return useContext(AppContext);};var AppContextProvider=function AppContextProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){var db=getFirestore();var itemsCollection=collection(db,'items');getDocs(itemsCollection).then(function(snapshot){var productList=[];snapshot.docs.forEach(function(s){//console.log(s.data());\nproductList.push(_objectSpread({id:s.id},s.data()));});setProducts(productList);});console.log('asd',products);},[]);return/*#__PURE__*/_jsx(AppContext.Provider,{value:{products:products},children:children});};export default AppContextProvider;","map":{"version":3,"sources":["C:/Users/Mati/Desktop/REACT/tiendavideojuegos-torres/src/components/context/AppContext.jsx"],"names":["createContext","useContext","useEffect","useState","getItem","collection","doc","getDoc","getDocs","getFirestore","AppContext","useAppContext","AppContextProvider","children","products","setProducts","db","itemsCollection","then","snapshot","productList","docs","forEach","s","push","id","data","console","log"],"mappings":"mRAAA,OAAQA,aAAR,CAAsBC,UAAtB,CAAkCC,SAAlC,CAA6CC,QAA7C,KAA4D,OAA5D,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,UAAT,CAAqBC,GAArB,CAA0BC,MAA1B,CAAkCC,OAAlC,CAA2CC,YAA3C,KAA+D,oBAA/D,C,2CACA,GAAMC,CAAAA,UAAU,cAAGV,aAAa,EAAhC,CACA,MAAO,IAAMW,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,SAAMV,CAAAA,UAAU,CAACS,UAAD,CAAhB,EAAtB,CAEP,GAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,MAAgB,IAAdC,CAAAA,QAAc,MAAdA,QAAc,CACvC,cAAgCV,QAAQ,CAAC,EAAD,CAAxC,wCAAOW,QAAP,eAAiBC,WAAjB,eACAb,SAAS,CAAC,UAAM,CACX,GAAMc,CAAAA,EAAE,CAAGP,YAAY,EAAvB,CACL,GAAMQ,CAAAA,eAAe,CAAGZ,UAAU,CAACW,EAAD,CAAI,OAAJ,CAAlC,CACAR,OAAO,CAAES,eAAF,CAAP,CAA0BC,IAA1B,CAA+B,SAAAC,QAAQ,CAAI,CACvC,GAAMC,CAAAA,WAAW,CAAG,EAApB,CACDD,QAAQ,CAACE,IAAT,CAAcC,OAAd,CAAsB,SAAAC,CAAC,CAAG,CACtB;AACAH,WAAW,CAACI,IAAZ,gBAAkBC,EAAE,CAAGF,CAAC,CAACE,EAAzB,EAA+BF,CAAC,CAACG,IAAF,EAA/B,GACH,CAHD,EAKAX,WAAW,CAACK,WAAD,CAAX,CAED,CATF,EAUCO,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAkBd,QAAlB,EACA,CAdQ,CAcP,EAdO,CAAT,CAeF,mBAAO,KAAC,UAAD,CAAY,QAAZ,EAAqB,KAAK,CAAI,CAACA,QAAQ,CAARA,QAAD,CAA9B,UAA2CD,QAA3C,EAAP,CACD,CAlBD,CAmBA,cAAeD,CAAAA,kBAAf","sourcesContent":["import {createContext,useContext, useEffect, useState} from \"react\";\r\nimport { getItem } from \"../../data/data\";\r\nimport { collection, doc, getDoc, getDocs, getFirestore } from \"firebase/firestore\";\r\nconst AppContext = createContext()\r\nexport const useAppContext = () => useContext(AppContext)\r\n\r\nconst AppContextProvider = ({children}) => {\r\n    const [products, setProducts] = useState([])\r\n    useEffect(() => {\r\n         const db = getFirestore()\r\n    const itemsCollection = collection(db,'items')\r\n    getDocs (itemsCollection).then(snapshot => { \r\n        const productList = []\r\n       snapshot.docs.forEach(s=> { \r\n           //console.log(s.data());\r\n           productList.push({id : s.id,...s.data()})\r\n       })\r\n       \r\n       setProducts(productList) \r\n       \r\n     })\r\n     console.log('asd',products);\r\n    },[])\r\n  return <AppContext.Provider value = {{products}}>{children}</AppContext.Provider>\r\n}\r\nexport default AppContextProvider"]},"metadata":{},"sourceType":"module"}